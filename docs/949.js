"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[949],{7949:(X,u,a)=>{a.r(u),a.d(u,{MoviesModule:()=>j});var C=a(4049),m=a(6696),h=a(4332),l=a(5698),e=a(5e3),g=a(7093),f=a(9224),c=a(3322),x=a(7423),p=a(1125),s=a(9808),M=a(6705),b=a(3892);function y(n,o){if(1&n&&(e.TgZ(0,"div")(1,"button",12),e._uU(2),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function O(n,o){if(1&n&&(e.TgZ(0,"span",13),e._UZ(1,"app-poster-card",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("model",t)("isMovie",!0)}}let P=(()=>{class n{constructor(t){this.moviesService=t,this.nowPlaying=[]}ngOnInit(){this.getNowPlayinMovies(1),this.moviesService.getGenres().subscribe(t=>{this.genres=t.genres})}getNowPlayinMovies(t){this.moviesService.getNowPlaying(t).pipe((0,l.q)(1)).subscribe(i=>{this.totalResults=i.total_results,this.nowPlaying=i.results},()=>{})}changePage(t){this.getNowPlayinMovies(t.pageIndex+1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movies"]],decls:22,vars:4,consts:[[1,"container","movies-list"],["fxLayout","row"],["fxFlex","25%","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"filter-movies-card"],[2,"margin-bottom","24px"],["mat-raised-button","","color","primary","aria-label","Set Now Playing filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Upcoming filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Popular filter","disabled",""],[4,"ngFor","ngForOf"],["fxFlex","75%","fxFlex.sm","100","fxFlex.xs","100"],["fxLayout","row wrap"],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["mat-raised-button","","color","primary","aria-label","Set Genres filter","disabled",""],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"All Movies #NowPlaying"),e.qZA(),e.TgZ(3,"div",1)(4,"mat-card",2)(5,"div",3),e._uU(6,"Filter by"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Now Playing"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Upcoming"),e.qZA(),e.TgZ(11,"button",6),e._uU(12,"Popular"),e.qZA(),e.TgZ(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title"),e._uU(16," Genres "),e.qZA()(),e.YNc(17,y,3,1,"div",7),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9),e.YNc(20,O,2,2,"span",10),e.qZA(),e.TgZ(21,"mat-paginator",11),e.NdJ("page",function(v){return i.changePage(v)}),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("ngForOf",i.genres),e.xp6(3),e.Q6J("ngForOf",i.nowPlaying),e.xp6(1),e.Q6J("length",i.totalResults)("pageSize",20))},directives:[g.xw,f.a8,g.yH,c.b8,x.lW,p.ib,p.yz,p.yK,s.sg,M.h,b.NW],styles:[".movies-list[_ngcontent-%COMP%]{margin-top:6rem}.filter-movies-card[_ngcontent-%COMP%]{height:100%;margin-right:8px}.filter-movies-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}@media screen and (max-width: 599px){.movies-list[_ngcontent-%COMP%]{margin-top:2rem}.movies-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}@media screen and (min-width: 600px) and (max-width: 959px){.movies-list[_ngcontent-%COMP%]{margin-top:2rem}.movies-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}"]}),n})();var Z=a(8528),w=a(2313),d=a(8966),T=a(6228),F=a(5113),A=a(5899),D=a(1495),S=a(5245),_=a(3737);const U=["closeModal"],Q=["openModal"],q=["matTrailerDialog"];function H(n,o){1&n&&e._UZ(0,"mat-progress-bar",21)}function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog()}),e.TgZ(1,"mat-icon"),e._uU(2,"play_arrow"),e.qZA(),e._uU(3," Play Trailer "),e.qZA()}}function N(n,o){if(1&n&&(e.TgZ(0,"button",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}const Y=function(n){return{"border-right":n}};function L(n,o){if(1&n&&(e.TgZ(0,"div",24)(1,"a",25)(2,"div",26),e._UZ(3,"img",27),e.TgZ(4,"div")(5,"small",28),e._uU(6),e.qZA(),e.TgZ(7,"p",29),e._uU(8),e.qZA()()()()()),2&n){const t=o.$implicit;e.Q6J("ngStyle",e.VKq(6,Y,!0!==o.last?"1px solid #ffffff75":"")),e.xp6(1),e.MGl("routerLink","/people/person/",null==t?null:t.id,""),e.xp6(2),e.MGl("src","https://image.tmdb.org/t/p/w240_and_h266_face/",t.profile_path,"",e.LSH),e.Q6J("alt",t.name),e.xp6(3),e.Oqu(t.character),e.xp6(2),e.Oqu(t.name)}}function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"app-poster-card",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).upOnRouting()}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("model",t)("isMovie",!0)}}function G(n,o){if(1&n&&(e.TgZ(0,"div",30)(1,"h2"),e._uU(2,"Recommended Movies"),e.qZA(),e.TgZ(3,"div",31),e.YNc(4,R,2,2,"div",32),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.similarMovies)}}function I(n,o){if(1&n&&(e.TgZ(0,"div",42),e._UZ(1,"iframe",43),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.video.url,e.uOi)}}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"a",37),e.NdJ("click",function(){return e.CHM(t),e.oxw().trailerDialog.closeAll()}),e.TgZ(3,"mat-icon",38),e._uU(4,"close"),e.qZA()(),e.TgZ(5,"h2",39),e._uU(6,"Play Trailer"),e.qZA()(),e.TgZ(7,"mat-dialog-content",40),e.YNc(8,I,2,1,"div",41),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.video)}}const k=function(n){return{"padding-top-60":n}},B=[{path:"",children:[{path:"",component:P},{path:"detail/:url",component:(()=>{class n{constructor(t,i,r,v,V,W,E,K){this._moviesService=t,this.route=i,this.sanitizer=r,this.dialog=v,this.seo=V,this.trailerDialog=W,this.movie=new Z.Y,this.similarMovies=[],this.cast=[],this.isLoading=!0,this.mobileQuery=K.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>E.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.route.params.subscribe(t=>{const i=t.url;this.getMovie(i),this.getMovieCredits(i),this.getMovieVideo(i),this.getRecomendedMovie(i)})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getMovie(t){this.isLoading=!0,this._moviesService.getMovie(t).pipe((0,l.q)(1)).subscribe(i=>{this.movie=i,this.generateSeo()},()=>{},()=>this.isLoading=!1)}getMovieCredits(t){this._moviesService.getMovieCredits(t).pipe((0,l.q)(1)).subscribe(i=>{i.cast=i.cast.filter(r=>r.profile_path),this.cast=i.cast.slice(0,5)},()=>{})}getMovieVideo(t){this._moviesService.getMovieVideos(t).pipe((0,l.q)(1)).subscribe(i=>{var r;(null===(r=null==i?void 0:i.results)||void 0===r?void 0:r.length)>0?(this.video=i.results[0],this.video.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.video.key)):this.video=null},()=>{})}getRecomendedMovie(t){this._moviesService.getRecomendMovies(t).pipe((0,l.q)(1)).subscribe(i=>{this.similarMovies=i.results.slice(0,10)},()=>{})}upOnRouting(){console.log(1)}generateSeo(){this.seo.generateTags({title:`${this.movie.title}`,description:`${this.movie.overview}`,image:`https://image.tmdb.org/t/p/w780/${this.movie.backdrop_path}`,slug:"movie"})}openDialog(){this.trailerDialog.open(this.matTrailerDialog,{}).disableClose=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.I),e.Y36(m.gz),e.Y36(w.H7),e.Y36(d.uw),e.Y36(T.v),e.Y36(d.uw),e.Y36(e.sBO),e.Y36(F.vx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-detail"]],viewQuery:function(t,i){if(1&t&&(e.Gf(U,5),e.Gf(Q,5),e.Gf(q,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.closeModal=r.first),e.iGM(r=e.CRH())&&(i.openModal=r.first),e.iGM(r=e.CRH())&&(i.matTrailerDialog=r.first)}},decls:32,vars:20,consts:[["mode","indeterminate",4,"ngIf"],[1,"movie-main-container",3,"ngClass"],[1,"movie-main-data-container"],["fxLayout","row",1,"movie-top-section"],[1,"movie-main-img"],["data-loaded","true","appImgMissingDirective","",3,"src","srcset","alt"],[1,"movie-main-info"],["fxFlex","100",1,"title-subtitle-container"],[1,"movie-main-title"],["fxHide.xs","true"],["fxShow","","fxHide.sm","true","fxHide.xs","true"],[2,"padding-right","8px"],["mat-raised-button","","color","primary","aria-label","Trailer","class","play-trailer",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","","style","margin-right: 5px",4,"ngFor","ngForOf"],["fxLayout","column","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"top-billed-cast"],[1,"title-billed"],[2,"display","flex","text-align","center"],["style","width: 20%;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"container"],["class","similar-movies default-margin-bottom",4,"ngIf"],["matTrailerDialog",""],["mode","indeterminate"],["mat-raised-button","","color","primary","aria-label","Trailer",1,"play-trailer",3,"click"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","",2,"margin-right","5px"],[2,"width","20%",3,"ngStyle"],[3,"routerLink"],[2,"display","inline-flex","align-items","center","padding","0 5px"],["mat-card-image","",3,"src","alt"],[2,"color","#F44336","font-weight","500"],[2,"margin","0","font-size","14px"],[1,"similar-movies","default-margin-bottom"],["fxLayout","row wrap"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie","click"],["cdkDragBoundary",".cdk-overlay-container","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",2,"background","black"],["cdkDragHandle","",1,"dialog-title-container"],["href","javascript:void(0);",3,"click"],["aria-label","cerrar dialogo cambiar imagen Cabecera"],["matDialogTitle",""],[1,"header-content-dialog"],["class","video-movie-main",4,"ngIf"],[1,"video-movie-main"],["allowfullscreen","",2,"background-color","#000","border","0",3,"src"]],template:function(t,i){1&t&&(e.YNc(0,H,1,0,"mat-progress-bar",0),e.TgZ(1,"div",1)(2,"div",2)(3,"section",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7)(8,"h2",8),e._uU(9),e.qZA(),e.TgZ(10,"h3",9),e._uU(11),e.qZA()(),e.TgZ(12,"section")(13,"div",10)(14,"h3"),e._uU(15,"Overview"),e.qZA(),e.TgZ(16,"p",11),e._uU(17),e.qZA()(),e.YNc(18,J,4,0,"button",12),e.TgZ(19,"div",10)(20,"h3"),e._uU(21,"Categories"),e.qZA(),e.YNc(22,N,2,1,"button",13),e.qZA()()()(),e.TgZ(23,"section",14)(24,"h3",15),e._uU(25,"Top Billed Cast"),e.qZA(),e.TgZ(26,"div",16),e.YNc(27,L,9,8,"div",17),e.qZA()()()(),e.TgZ(28,"div",18),e.YNc(29,G,5,1,"div",19),e.qZA(),e.YNc(30,z,9,1,"ng-template",null,20,e.W1O)),2&t&&(e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Udp("background-image","linear-gradient(rgba(52,41,49,0.80), rgba(0,0,0,0.85)), url(https://image.tmdb.org/t/p/w1280"+i.movie.backdrop_path+")"),e.Q6J("ngClass",e.VKq(18,k,!i.mobileQuery.matches)),e.xp6(4),e.MGl("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path,"",e.LSH)("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path,"",e.LSH),e.hYB("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==i.movie?null:i.movie.poster_path," 2x",e.LSH)("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==i.movie?null:i.movie.poster_path," 2x",e.LSH),e.Q6J("alt",null==i.movie?null:i.movie.title),e.xp6(4),e.Oqu(null==i.movie?null:i.movie.title),e.xp6(2),e.Oqu(i.movie.tagline),e.xp6(6),e.Oqu(i.movie.overview),e.xp6(1),e.Q6J("ngIf",i.video),e.xp6(4),e.Q6J("ngForOf",i.movie.genres),e.xp6(5),e.Q6J("ngForOf",i.cast),e.xp6(2),e.Q6J("ngIf",i.similarMovies))},directives:[s.O5,A.pW,s.mk,c.oO,g.xw,D._,g.yH,c.b8,x.lW,S.Hw,s.sg,s.PC,c.Zl,m.yS,f.G2,M.h,_.Zt,_.Bh,d.uh,d.xY],styles:[".movie-main-container[_ngcontent-%COMP%]{background-size:cover;background-position:center top}.movie-main-data-container[_ngcontent-%COMP%]{padding:30px 40px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 4px #0003;border-radius:4px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-wrap:wrap;align-content:center}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .title-subtitle-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;color:#fff;font-size:1.1em;font-style:italic;opacity:.8;margin:0}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;align-items:center}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]     .mat-button-wrapper mat-icon{padding-right:2px}.video-movie-main[_ngcontent-%COMP%]{margin:auto}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:55vw;height:64vh}.top-billed-cast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin:0 8px 0 0;-o-object-fit:cover;object-fit:cover}@media screen and (max-width: 599px){.movie-main-container[_ngcontent-%COMP%]{height:240px}.movie-main-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc((50vw - 40px) / 1.5);min-width:calc((45.4545454545vw - 40px) / 1.5);height:calc(50vw - 40px);min-height:calc(50vw - 40px)}.movie-main-data-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;padding:0}.movie-main-data-container[_ngcontent-%COMP%]   .movie-top-section[_ngcontent-%COMP%]{padding:10px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:20px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]{margin-top:4px}.movie-main-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}.similar-movies[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:45vh}}@media screen and (min-width: 600px) and (max-width: 959px){.movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]{margin-top:4px}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:40vh}}@media screen and (min-width: 960px) and (max-width: 1279px){.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:40vh}}@media screen and (min-width: 1280px) and (max-width: 1919px){.movie-main-title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin:0 0 20px}}"]}),n})()}]}];let $=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(B)],m.Bz]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[C.m,$]]}),n})()}}]);