"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[388],{8388:(K,u,a)=>{a.r(u),a.d(u,{MoviesModule:()=>E});var b=a(9264),g=a(4382),f=a(6570),s=a(6636),e=a(3668),x=a(3648),r=a(6019),c=a(4104),d=a(515),h=a(1893),M=a(5093),p=a(5949),C=a(8787),Z=a(3552);function T(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"button",12),e._uU(2),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function y(i,n){if(1&i&&(e.TgZ(0,"span",13),e._UZ(1,"app-poster-card",14),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("model",t)("isMovie",!0)}}const A=function(i){return{"padding-top-60":i}};let O=(()=>{class i{constructor(t,o,l){this.moviesService=t,this.nowPlaying=[],this.mobileQuery=l.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>o.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.getNowPlayinMovies(1),this.moviesService.getGenres().subscribe(t=>{this.genres=t.genres})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getNowPlayinMovies(t){this.moviesService.getNowPlaying(t).pipe((0,s.q)(1)).subscribe(o=>{this.totalResults=o.total_results,this.nowPlaying=o.results},()=>{})}changePage(t){this.getNowPlayinMovies(t.pageIndex+1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.I),e.Y36(e.sBO),e.Y36(x.vx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-movies"]],decls:22,vars:7,consts:[[1,"container",3,"ngClass"],["fxLayout","row"],["fxFlex","25%","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"filter-movies-card"],[2,"margin-bottom","24px"],["mat-raised-button","","color","primary","aria-label","Set Now Playing filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Upcoming filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Popular filter","disabled",""],[4,"ngFor","ngForOf"],["fxFlex","75%","fxFlex.sm","100","fxFlex.xs","100"],["fxLayout","row wrap"],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["mat-raised-button","","color","primary","aria-label","Set Genres filter","disabled",""],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h2"),e._uU(2,"All Movies #NowPlaying"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"mat-card",2),e.TgZ(5,"div",3),e._uU(6,"Filter by"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Now Playing"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Upcoming"),e.qZA(),e.TgZ(11,"button",6),e._uU(12,"Popular"),e.qZA(),e.TgZ(13,"mat-expansion-panel"),e.TgZ(14,"mat-expansion-panel-header"),e.TgZ(15,"mat-panel-title"),e._uU(16," Genres "),e.qZA(),e.qZA(),e.YNc(17,T,3,1,"div",7),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"div",9),e.YNc(20,y,2,2,"span",10),e.qZA(),e.TgZ(21,"mat-paginator",11),e.NdJ("page",function(v){return o.changePage(v)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(5,A,!o.mobileQuery.matches)),e.xp6(17),e.Q6J("ngForOf",o.genres),e.xp6(3),e.Q6J("ngForOf",o.nowPlaying),e.xp6(1),e.Q6J("length",o.totalResults)("pageSize",20))},directives:[r.mk,c.oO,d.xw,h.a8,d.yH,c.b8,M.lW,p.ib,p.yz,p.yK,r.sg,C.NW,Z.h],styles:[".filter-movies-card[_ngcontent-%COMP%]{height:100%;margin-right:8px}.filter-movies-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}"]}),i})();var w=a(5427),m=a(1292),q=a(5874),D=a(2450),_=a(7978);const P=["closeModal"],F=["openModal"],S=["matTrailerDialog"];function Q(i,n){if(1&i&&(e.TgZ(0,"button",21),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.name)}}const U=function(i){return{"border-right":i}};function L(i,n){if(1&i&&(e.TgZ(0,"div",22),e.TgZ(1,"a",23),e.TgZ(2,"div",24),e._UZ(3,"img",25),e.TgZ(4,"div"),e.TgZ(5,"small",26),e._uU(6),e.qZA(),e.TgZ(7,"p",27),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.Q6J("ngStyle",e.VKq(6,U,!0!==n.last?"1px solid #ffffff75":"")),e.xp6(1),e.MGl("routerLink","/people/person/",null==t?null:t.id,""),e.xp6(2),e.MGl("src","https://image.tmdb.org/t/p/w240_and_h266_face/",t.profile_path,"",e.LSH),e.Q6J("alt",t.name),e.xp6(3),e.Oqu(t.character),e.xp6(2),e.Oqu(t.name)}}const R=function(i){return{"padding-top-60":i}};function k(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e.TgZ(3,"div",8),e._UZ(4,"img",9),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"h2",11),e._uU(7),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"p"),e._uU(10,"Overview"),e.qZA(),e.TgZ(11,"p",13),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDialog()}),e.TgZ(15,"mat-icon",15),e._uU(16,"play_arrow"),e.qZA(),e._uU(17," Watch Trailer"),e.qZA(),e.qZA(),e.TgZ(18,"p"),e._uU(19,"Categories"),e.qZA(),e.TgZ(20,"div"),e.YNc(21,Q,2,1,"button",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"section",17),e.TgZ(23,"p",18),e._uU(24,"Top Billed Cast"),e.qZA(),e.TgZ(25,"div",19),e.YNc(26,L,9,8,"div",20),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Udp("background-image","linear-gradient(rgba(52,41,49,0.80), rgba(0,0,0,0.85)), url(https://image.tmdb.org/t/p/w1280"+t.movie.backdrop_path+")"),e.Q6J("ngClass",e.VKq(8,R,!t.mobileQuery.matches)),e.xp6(4),e.MGl("src","https://image.tmdb.org/t/p/w500/",null==t.movie?null:t.movie.poster_path,"",e.LSH),e.xp6(3),e.Oqu(t.movie.title),e.xp6(5),e.Oqu(t.movie.overview),e.xp6(9),e.Q6J("ngForOf",t.movie.genres),e.xp6(5),e.Q6J("ngForOf",t.cast)}}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"app-poster-card",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).upOnRouting()}),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.Q6J("model",t)("isMovie",!0)}}function N(i,n){if(1&i&&(e.TgZ(0,"div",28),e.TgZ(1,"h1"),e._uU(2,"Recommended Movies"),e.qZA(),e.TgZ(3,"div",7),e.YNc(4,J,2,2,"div",29),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.similarMovies)}}function Y(i,n){1&i&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"h4"),e._uU(3,"Loading"),e.qZA(),e.qZA(),e.qZA())}function I(i,n){if(1&i&&(e.TgZ(0,"div",41),e._UZ(1,"iframe",42),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.video.url,e.uOi)}}function z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",34),e.TgZ(1,"div",35),e.TgZ(2,"a",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().trailerDialog.closeAll()}),e.TgZ(3,"mat-icon",37),e._uU(4,"close"),e.qZA(),e.qZA(),e.TgZ(5,"h2",38),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content",39),e.YNc(8,I,2,1,"div",40),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(null==t.video?null:t.video.name),e.xp6(2),e.Q6J("ngIf",t.video)}}const G=[{path:"",children:[{path:"",component:O},{path:"detail/:url",component:(()=>{class i{constructor(t,o,l,v,B,$,V,W){this._moviesService=t,this.route=o,this.sanitizer=l,this.dialog=v,this.seo=B,this.trailerDialog=$,this.similarMovies=[],this.cast=[],this.isLoading=!0,this.mobileQuery=W.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>V.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.route.params.subscribe(t=>{const o=t.url;this.getMovie(o),this.getMovieCredits(o),this.getMovieVideo(o),this.getRecomendedMovie(o)})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getMovie(t){this.isLoading=!0,this._moviesService.getMovie(t).pipe((0,s.q)(1)).subscribe(o=>{this.movie=o,this.generateSeo(),this.isLoading=!1},()=>{})}getMovieCredits(t){this._moviesService.getMovieCredits(t).pipe((0,s.q)(1)).subscribe(o=>{o.cast=o.cast.filter(l=>l.profile_path),this.cast=o.cast.slice(0,5)},()=>{})}getMovieVideo(t){this._moviesService.getMovieVideos(t).pipe((0,s.q)(1)).subscribe(o=>{o.results&&o.results.length&&(this.video=o.results[0],this.video.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.video.key),console.log(this.video))},()=>{})}getRecomendedMovie(t){this._moviesService.getRecomendMovies(t).pipe((0,s.q)(1)).subscribe(o=>{this.similarMovies=o.results.slice(0,10)},()=>{})}upOnRouting(){console.log(1)}generateSeo(){this.seo.generateTags({title:`${this.movie.title}`,description:`${this.movie.overview}`,image:`https://image.tmdb.org/t/p/w780/${this.movie.backdrop_path}`,slug:"movie"})}openDialog(){this.trailerDialog.open(this.matTrailerDialog,{}).disableClose=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.I),e.Y36(g.gz),e.Y36(w.H7),e.Y36(m.uw),e.Y36(q.v),e.Y36(m.uw),e.Y36(e.sBO),e.Y36(x.vx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-movie-detail"]],viewQuery:function(t,o){if(1&t&&(e.Gf(P,5),e.Gf(F,5),e.Gf(S,5)),2&t){let l;e.iGM(l=e.CRH())&&(o.closeModal=l.first),e.iGM(l=e.CRH())&&(o.openModal=l.first),e.iGM(l=e.CRH())&&(o.matTrailerDialog=l.first)}},decls:6,vars:3,consts:[["class","parrallax-content",3,"ngClass","background-image",4,"ngIf"],[1,"container"],["class","similar-movies",4,"ngIf"],["style","margin-top: 30%",4,"ngIf"],["matTrailerDialog",""],[1,"parrallax-content",3,"ngClass"],[1,"parallax-left-content"],["fxLayout","row wrap"],["fxFlex","25",1,"parallax-img-container"],["alt","",3,"src"],["fxFlex","75"],[1,"movie-main-title"],["fxShow","","fxHide.sm","true","fxHide.xs","true"],[2,"padding-right","8px"],["mat-raised-button","","color","primary","aria-label","Trailer",3,"click"],[1,"icon-colored",2,"background","white","border-radius","50%"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","","style","margin-right: 5px",4,"ngFor","ngForOf"],["fxLayout","column","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"top-billed-cast"],[1,"title-billed"],[2,"display","flex"],["style","width: 20%;",3,"ngStyle",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","",2,"margin-right","5px"],[2,"width","20%",3,"ngStyle"],[3,"routerLink"],[2,"display","inline-flex","align-items","center","padding","0 5px"],["mat-card-image","",3,"src","alt"],[2,"color","#F44336","font-weight","500"],[2,"margin","0","font-size","14px"],[1,"similar-movies"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie","click"],[2,"margin-top","30%"],[1,"loading"],["cdkDragBoundary",".cdk-overlay-container","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",2,"background","black"],["cdkDragHandle","",1,"dialog-title-container"],["href","javascript:void(0);",3,"click"],["aria-label","cerrar dialogo cambiar imagen Cabecera"],["matDialogTitle",""],[1,"header-content-dialog"],["class","video-movie-main",4,"ngIf"],[1,"video-movie-main"],["allowfullscreen","",2,"background-color","#000","border","0",3,"src"]],template:function(t,o){1&t&&(e.YNc(0,k,27,10,"div",0),e.TgZ(1,"div",1),e.YNc(2,N,5,1,"div",2),e.qZA(),e.YNc(3,Y,4,0,"div",3),e.YNc(4,z,9,2,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("ngIf",!o.isLoading),e.xp6(2),e.Q6J("ngIf",o.similarMovies),e.xp6(1),e.Q6J("ngIf",o.isLoading))},directives:[r.O5,r.mk,c.oO,d.xw,d.yH,c.b8,M.lW,D.Hw,r.sg,r.PC,c.Zl,g.yS,h.G2,Z.h,_.Zt,_.Bh,m.uh,m.xY],styles:[".parallax-left-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding-top:80px;z-index:0}.parallax-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:350px;box-shadow:0 0 4px #0003;border-radius:4px}.movie-main-title[_ngcontent-%COMP%]{font-size:3.5em;font-weight:700}.parallax-btn-container[_ngcontent-%COMP%]{margin-bottom:20px}.parallax-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);border:2px solid white;margin-right:10px}.parallax-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:medium}.parallax-subtitle[_ngcontent-%COMP%]{width:100%;margin:0 0 10px;font-weight:600;line-height:1.3em;font-size:1.3em}.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-mini-fab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:20px}.parrallax-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-size:cover;background-position:center top}.mat-card-actions[_ngcontent-%COMP%]{padding:0!important}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}.card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch}.card-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2em}.card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em}.movie-content-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin:15px 5px;text-align:left;width:90%}.video-movie-main[_ngcontent-%COMP%]{margin:auto}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:55vw;height:64vh}.top-billed-cast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin:0 8px 0 0;-o-object-fit:cover;object-fit:cover}"]}),i})()}]}];let j=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.Bz.forChild(G)],g.Bz]}),i})(),E=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[],imports:[[b.m,j]]}),i})()}}]);