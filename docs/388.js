"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[388],{8388:(H,m,r)=>{r.r(m),r.d(m,{MoviesModule:()=>k});var M=r(490),c=r(4382),v=r(6570),t=r(3668),g=r(515),u=r(1893),h=r(5093),d=r(5949),s=r(6019),Z=r(4878),_=r(8787),x=r(3552);function b(i,o){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"button",15),t._uU(2),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," ")}}function C(i,o){if(1&i&&(t.TgZ(0,"span",16),t._UZ(1,"app-poster-card",17),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("model",e)("isMovie",!0)}}let O=(()=>{class i{constructor(e){this.moviesService=e,this.nowPlaying=[],this.max=10,this.min=0,this.step=1,this.value=0,this.thumbLabel=!0,this.tickInterval=10}ngOnInit(){this.getNowPlayinMovies(1),this.moviesService.getGenres().subscribe(e=>{this.genres=e.genres})}getNowPlayinMovies(e){const n=this.moviesService.getNowPlaying(e).subscribe(a=>{this.totalResults=a.total_results,this.nowPlaying=a.results},()=>{},()=>{n&&n.unsubscribe()})}changePage(e){this.getNowPlayinMovies(e.pageIndex+1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.I))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-movies"]],decls:25,vars:10,consts:[[1,"container","padding-top-60"],[2,"text-align","left","padding-left","20px"],["fxLayout","row"],["fxFlex","25%",1,"filter-movies-card"],[2,"margin-bottom","24px"],["mat-raised-button","","color","primary","aria-label","Set Now Playing filter"],["mat-raised-button","","color","primary","aria-label","Set Upcoming filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Popular filter","disabled",""],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],["disabled","",3,"max","min","step","thumbLabel","tickInterval","value"],["fxFlex","75%"],["fxLayout","row wrap",2,"text-align","center"],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["mat-raised-button","","color","primary","aria-label","Set Genres filter","disabled",""],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2,"All Movies #NowPlaying"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"mat-card",3),t.TgZ(5,"div",4),t._uU(6,"Filter by"),t.qZA(),t.TgZ(7,"button",5),t._uU(8,"Now Playing"),t.qZA(),t.TgZ(9,"button",6),t._uU(10,"Upcoming"),t.qZA(),t.TgZ(11,"button",7),t._uU(12,"Popular"),t.qZA(),t.TgZ(13,"mat-expansion-panel"),t.TgZ(14,"mat-expansion-panel-header"),t.TgZ(15,"mat-panel-title"),t._uU(16," Genres "),t.qZA(),t.qZA(),t.YNc(17,b,3,1,"div",8),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Avg. User Review"),t.qZA(),t._UZ(20,"mat-slider",10),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.YNc(23,C,2,2,"span",13),t.qZA(),t.TgZ(24,"mat-paginator",14),t.NdJ("page",function(l){return n.changePage(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(17),t.Q6J("ngForOf",n.genres),t.xp6(3),t.Q6J("max",n.max)("min",n.min)("step",n.step)("thumbLabel",n.thumbLabel)("tickInterval",n.tickInterval)("value",n.value),t.xp6(3),t.Q6J("ngForOf",n.nowPlaying),t.xp6(1),t.Q6J("length",n.totalResults)("pageSize",20))},directives:[g.xw,u.a8,g.yH,h.lW,d.ib,d.yz,d.yK,s.sg,Z.pH,_.NW,x.h],styles:[".filter-movies-card[_ngcontent-%COMP%]{height:100%}.filter-movies-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.mat-slider-horizontal[_ngcontent-%COMP%]{width:100%}@media (max-width: 767px){.filter-movies-card[_ngcontent-%COMP%]{width:24%;margin-bottom:20px}}@media (max-width: 480px){.filter-movies-card[_ngcontent-%COMP%]{width:80%;margin-bottom:20px}}"]}),i})();var p=r(1292),P=r(5427),T=r(5874),w=r(4104),f=r(2450);const A=["closeModal"],y=["openModal"];function q(i,o){if(1&i&&(t.TgZ(0,"button",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}const F=function(i){return{"border-right":i}};function S(i,o){if(1&i&&(t.TgZ(0,"div",20),t.TgZ(1,"a",21),t.TgZ(2,"div",22),t._UZ(3,"img",23),t.TgZ(4,"div"),t.TgZ(5,"small",24),t._uU(6),t.qZA(),t.TgZ(7,"p",25),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.Q6J("ngStyle",t.VKq(6,F,!0!==o.last?"1px solid #ffffff75":"")),t.xp6(1),t.MGl("routerLink","/people/person/",null==e?null:e.id,""),t.xp6(2),t.MGl("src","https://image.tmdb.org/t/p/w500/",e.profile_path,"",t.LSH),t.Q6J("alt",e.name),t.xp6(3),t.Oqu(e.character),t.xp6(2),t.Oqu(e.name)}}function U(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"app-poster-card",29),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).upOnRouting()}),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(1),t.Q6J("model",e)("isMovie",!0)}}function D(i,o){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"h1"),t._uU(2,"Recommended Movies"),t.qZA(),t.TgZ(3,"div",4),t.YNc(4,U,2,2,"div",27),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.similarMovies)}}const J=function(i){return{"background-image":i}};function N(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.TgZ(5,"h2",6),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Overview"),t.qZA(),t.TgZ(9,"p",7),t._uU(10),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDialog()}),t.TgZ(13,"mat-icon",9),t._uU(14,"play_arrow"),t.qZA(),t._uU(15," Watch Trailer"),t.qZA(),t.qZA(),t.TgZ(16,"p"),t._uU(17,"Categories"),t.qZA(),t.TgZ(18,"div"),t.YNc(19,q,2,1,"button",10),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t._UZ(21,"img",12),t.qZA(),t.qZA(),t.TgZ(22,"section",13),t.TgZ(23,"p",14),t._uU(24,"Top Billed Cast"),t.qZA(),t.TgZ(25,"div",15),t.YNc(26,S,9,8,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",17),t.YNc(28,D,5,1,"div",18),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(7,J,"linear-gradient(rgba(52,41,49,0.80), rgba(0,0,0,0.85)), url(https://image.tmdb.org/t/p/w1280"+e.movie.backdrop_path+")")),t.xp6(5),t.Oqu(e.movie.title),t.xp6(4),t.Oqu(e.movie.overview),t.xp6(9),t.Q6J("ngForOf",e.movie.genres),t.xp6(2),t.MGl("src","https://image.tmdb.org/t/p/w500/",null==e.movie?null:e.movie.poster_path,"",t.LSH),t.xp6(5),t.Q6J("ngForOf",e.cast),t.xp6(2),t.Q6J("ngIf",e.similarMovies)}}function z(i,o){1&i&&(t.TgZ(0,"div",30),t.TgZ(1,"div",31),t.TgZ(2,"h4"),t._uU(3,"Loading"),t.qZA(),t.qZA(),t.qZA())}function Q(i,o){if(1&i&&(t.TgZ(0,"div",5),t._UZ(1,"iframe",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("src",e.data.video.url,t.uOi)}}let I=(()=>{class i{constructor(e,n,a,l,G){this._moviesService=e,this.route=n,this.sanitizer=a,this.dialog=l,this.seo=G,this.similarMovies=[],this.cast=[],this.isLoading=!0}ngOnInit(){this.route.params.subscribe(e=>{const n=e.url;this.getMovie(n),this.getMovieCredits(n),this.getMovieVideo(n),this.getRecomendedMovie(n)})}getMovie(e){const n=this._moviesService.getMovie(e).subscribe(a=>{this.movie=a,this.generateSeo(),this.movie?this.isLoading=!1:alert("Server Error")},()=>{},()=>{n&&n.unsubscribe()})}getMovieCredits(e){const n=this._moviesService.getMovieCredits(e).subscribe(a=>{a.cast=a.cast.filter(l=>l.profile_path),this.cast=a.cast.slice(0,5)},()=>{},()=>{n&&n.unsubscribe()})}getMovieVideo(e){const n=this._moviesService.getMovieVideos(e).subscribe(a=>{a.results&&a.results.length&&(this.video=a.results[0],this.video.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.video.key))},()=>{},()=>{n&&n.unsubscribe()})}getRecomendedMovie(e){const n=this._moviesService.getRecomendMovies(e).subscribe(a=>{this.similarMovies=a.results.slice(0,10)},()=>{},()=>{n&&n.unsubscribe()})}upOnRouting(){console.log(1)}generateSeo(){this.seo.generateTags({title:`${this.movie.title}`,description:`${this.movie.overview}`,image:`https://image.tmdb.org/t/p/w780/${this.movie.backdrop_path}`,slug:"movie"})}openDialog(){this.dialog.open(R,{height:"500px",width:"800px",data:{video:this.video}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.I),t.Y36(c.gz),t.Y36(P.H7),t.Y36(p.uw),t.Y36(T.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-movie-detail"]],viewQuery:function(e,n){if(1&e&&(t.Gf(A,5),t.Gf(y,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.closeModal=a.first),t.iGM(a=t.CRH())&&(n.openModal=a.first)}},decls:2,vars:2,consts:[[4,"ngIf"],["style","margin-top: 30%",4,"ngIf"],[1,"parrallax-content",3,"ngStyle"],[1,"parallax-left-content"],["fxLayout","row wrap"],["fxFlex","75"],[1,"movie-main-title"],[2,"padding-right","8px"],["mat-raised-button","","color","primary","aria-label","Trailer",3,"click"],[1,"icon-colored",2,"background","white","border-radius","50%"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","","style","margin-right: 5px",4,"ngFor","ngForOf"],["fxFlex","25",1,"parallax-img-container"],["alt","",3,"src"],["fxLayout","column",1,"top-billed-cast"],[1,"title-billed"],[2,"display","flex"],["style","width: 20%;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"container"],["class","similar-movies",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","",2,"margin-right","5px"],[2,"width","20%",3,"ngStyle"],[3,"routerLink"],[2,"display","inline-flex","align-items","center","padding","0 5px"],["mat-card-image","",3,"src","alt"],[2,"color","#F44336","font-weight","500"],[2,"margin","0","font-size","14px"],[1,"similar-movies"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie","click"],[2,"margin-top","30%"],[1,"loading"]],template:function(e,n){1&e&&(t.YNc(0,N,29,9,"div",0),t.YNc(1,z,4,0,"div",1)),2&e&&(t.Q6J("ngIf",n.movie),t.xp6(1),t.Q6J("ngIf",n.isLoading))},directives:[s.O5,s.PC,w.Zl,g.xw,g.yH,h.lW,f.Hw,s.sg,c.yS,u.G2,x.h],styles:[".parallax-left-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding-top:80px;z-index:0}.parallax-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:350px;box-shadow:0 0 4px #0003;border-radius:4px}.movie-main-title[_ngcontent-%COMP%]{font-size:3.5em;font-weight:700}.parallax-btn-container[_ngcontent-%COMP%]{margin-bottom:20px}.parallax-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);border:2px solid white;margin-right:10px}.parallax-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:medium}.parallax-subtitle[_ngcontent-%COMP%]{width:100%;margin:0 0 10px;font-weight:600;line-height:1.3em;font-size:1.3em}.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-mini-fab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:20px}.parrallax-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-size:cover;background-position:center top}.mat-card-actions[_ngcontent-%COMP%]{padding:0!important}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}.card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch}.card-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2em}.card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em}.movie-content-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin:15px 5px;text-align:left;width:90%}.video-movie-main[_ngcontent-%COMP%]{margin:auto}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:300px}.top-billed-cast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin:0 8px 0 0;-o-object-fit:cover;object-fit:cover}@media (min-width: 1201px){.parrallax-content[_ngcontent-%COMP%]{height:750px}.cast-actor-card[_ngcontent-%COMP%]{width:13%}.video-movie-main[_ngcontent-%COMP%]{width:50%}}@media (min-width: 992px) and (max-width: 1200px){.parrallax-content[_ngcontent-%COMP%]{height:520px}.cast-actor-card[_ngcontent-%COMP%]{width:22%}.video-movie-main[_ngcontent-%COMP%]{width:60%}}@media (min-width: 768px) and (max-width: 992px){.parrallax-content[_ngcontent-%COMP%]{height:530px}.genders-cat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px}.cast-actor-card[_ngcontent-%COMP%]{width:23%}.video-movie-main[_ngcontent-%COMP%]{width:70%}}@media (max-width: 768px){.parrallax-content[_ngcontent-%COMP%]{height:520px}.parallax-subtitle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:none}.cast-actor-card[_ngcontent-%COMP%]{width:25%}.genders-cat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px}.video-movie-main[_ngcontent-%COMP%]{width:80%}}@media (max-width: 480px){.cast-actor-card[_ngcontent-%COMP%]{width:39%}.genders-cat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px}.video-movie-main[_ngcontent-%COMP%]{width:90%}.parallax-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:250px}.parallax-subtitle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:none}.similar-movies[_ngcontent-%COMP%]{display:none}}"]}),i})(),R=(()=>{class i{constructor(e,n){this.dialogRef=e,this.data=n}closeDialog(){this.dialogRef.close("Pizza!")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.so),t.Y36(p.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-movie-dialog"]],decls:8,vars:2,consts:[[2,"background","black"],["href","javascript:void(0)",2,"color","white","float","right"],[3,"click"],[2,"margin","5px"],["class","video-movie-main",4,"ngIf"],[1,"video-movie-main"],["allowfullscreen","","width","99.4%","height","459px",2,"background-color","#000","border","0",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"a",1),t.TgZ(3,"mat-icon",2),t.NdJ("click",function(){return n.closeDialog()}),t._uU(4,"close"),t.qZA(),t.qZA(),t.TgZ(5,"h5",3),t._uU(6),t.qZA(),t.qZA(),t.YNc(7,Q,2,1,"div",4),t.qZA()),2&e&&(t.xp6(6),t.Oqu(n.data.video.name),t.xp6(1),t.Q6J("ngIf",n.data.video))},directives:[f.Hw,s.O5],encapsulation:2}),i})();const Y=[{path:"",children:[{path:"",component:O},{path:"detail/:url",component:I}]}];let L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Y)],c.Bz]}),i})(),k=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[],imports:[[M.m,L]]}),i})()}}]);