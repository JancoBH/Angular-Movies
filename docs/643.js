"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[643],{6643:(ee,u,a)=>{a.r(u),a.d(u,{MoviesModule:()=>V});var b=a(4049),g=a(8555),h=a(789),s=a(2986),e=a(5e3),f=a(5113),l=a(9808),m=a(3322),d=a(7093),x=a(9224),M=a(7423),p=a(1125),C=a(3892),_=a(104);function y(n,o){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"button",12),e._uU(2),e.qZA(),e.qZA()),2&n){const i=o.$implicit;e.xp6(2),e.hij(" ",i.name," ")}}function T(n,o){if(1&n&&(e.TgZ(0,"span",13),e._UZ(1,"app-poster-card",14),e.qZA()),2&n){const i=o.$implicit;e.xp6(1),e.Q6J("model",i)("isMovie",!0)}}const O=function(n){return{"padding-top-60":n}};let w=(()=>{class n{constructor(i,t,r){this.moviesService=i,this.nowPlaying=[],this.mobileQuery=r.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>t.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.getNowPlayinMovies(1),this.moviesService.getGenres().subscribe(i=>{this.genres=i.genres})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getNowPlayinMovies(i){this.moviesService.getNowPlaying(i).pipe((0,s.q)(1)).subscribe(t=>{this.totalResults=t.total_results,this.nowPlaying=t.results},()=>{})}changePage(i){this.getNowPlayinMovies(i.pageIndex+1)}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(h.I),e.Y36(e.sBO),e.Y36(f.vx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movies"]],decls:22,vars:7,consts:[[1,"container",3,"ngClass"],["fxLayout","row"],["fxFlex","25%","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"filter-movies-card"],[2,"margin-bottom","24px"],["mat-raised-button","","color","primary","aria-label","Set Now Playing filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Upcoming filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Popular filter","disabled",""],[4,"ngFor","ngForOf"],["fxFlex","75%","fxFlex.sm","100","fxFlex.xs","100"],["fxLayout","row wrap"],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["mat-raised-button","","color","primary","aria-label","Set Genres filter","disabled",""],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h2"),e._uU(2,"All Movies #NowPlaying"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"mat-card",2),e.TgZ(5,"div",3),e._uU(6,"Filter by"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Now Playing"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Upcoming"),e.qZA(),e.TgZ(11,"button",6),e._uU(12,"Popular"),e.qZA(),e.TgZ(13,"mat-expansion-panel"),e.TgZ(14,"mat-expansion-panel-header"),e.TgZ(15,"mat-panel-title"),e._uU(16," Genres "),e.qZA(),e.qZA(),e.YNc(17,y,3,1,"div",7),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"div",9),e.YNc(20,T,2,2,"span",10),e.qZA(),e.TgZ(21,"mat-paginator",11),e.NdJ("page",function(v){return t.changePage(v)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(5,O,!t.mobileQuery.matches)),e.xp6(17),e.Q6J("ngForOf",t.genres),e.xp6(3),e.Q6J("ngForOf",t.nowPlaying),e.xp6(1),e.Q6J("length",t.totalResults)("pageSize",20))},directives:[l.mk,m.oO,d.xw,x.a8,d.yH,m.b8,M.lW,p.ib,p.yz,p.yK,l.sg,C.NW,_.h],styles:[".filter-movies-card[_ngcontent-%COMP%]{height:100%;margin-right:8px}.filter-movies-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}"]}),n})();var P=a(2238),A=a(2313),c=a(8966),q=a(3794),F=a(3557),D=a(5899),Q=a(5245),Z=a(5812);const S=["closeModal"],U=["openModal"],L=["matTrailerDialog"];function Y(n,o){1&n&&e._UZ(0,"mat-progress-bar",21)}function J(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){return e.CHM(i),e.oxw().openDialog()}),e.TgZ(1,"mat-icon"),e._uU(2,"play_arrow"),e.qZA(),e._uU(3," Play Trailer "),e.qZA()}}function H(n,o){if(1&n&&(e.TgZ(0,"button",23),e._uU(1),e.qZA()),2&n){const i=o.$implicit;e.xp6(1),e.Oqu(i.name)}}const N=function(n){return{"border-right":n}};function R(n,o){if(1&n&&(e.TgZ(0,"div",24),e.TgZ(1,"a",25),e.TgZ(2,"div",26),e._UZ(3,"img",27),e.TgZ(4,"div"),e.TgZ(5,"small",28),e._uU(6),e.qZA(),e.TgZ(7,"p",29),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const i=o.$implicit;e.Q6J("ngStyle",e.VKq(6,N,!0!==o.last?"1px solid #ffffff75":"")),e.xp6(1),e.MGl("routerLink","/people/person/",null==i?null:i.id,""),e.xp6(2),e.MGl("src","https://image.tmdb.org/t/p/w240_and_h266_face/",i.profile_path,"",e.LSH),e.Q6J("alt",i.name),e.xp6(3),e.Oqu(i.character),e.xp6(2),e.Oqu(i.name)}}function G(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"app-poster-card",34),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).upOnRouting()}),e.qZA(),e.qZA()}if(2&n){const i=o.$implicit;e.xp6(1),e.Q6J("model",i)("isMovie",!0)}}function I(n,o){if(1&n&&(e.TgZ(0,"div",30),e.TgZ(1,"h2"),e._uU(2,"Recommended Movies"),e.qZA(),e.TgZ(3,"div",31),e.YNc(4,G,2,2,"div",32),e.qZA(),e.qZA()),2&n){const i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.similarMovies)}}function z(n,o){if(1&n&&(e.TgZ(0,"div",42),e._UZ(1,"iframe",43),e.qZA()),2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.video.url,e.uOi)}}function k(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"a",37),e.NdJ("click",function(){return e.CHM(i),e.oxw().trailerDialog.closeAll()}),e.TgZ(3,"mat-icon",38),e._uU(4,"close"),e.qZA(),e.qZA(),e.TgZ(5,"h2",39),e._uU(6,"Play Trailer"),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content",40),e.YNc(8,z,2,1,"div",41),e.qZA(),e.qZA()}if(2&n){const i=e.oxw();e.xp6(8),e.Q6J("ngIf",i.video)}}const B=function(n){return{"padding-top-60":n}},$=[{path:"",children:[{path:"",component:w},{path:"detail/:url",component:(()=>{class n{constructor(i,t,r,v,W,E,K,X){this._moviesService=i,this.route=t,this.sanitizer=r,this.dialog=v,this.seo=W,this.trailerDialog=E,this.movie=new P.Y,this.similarMovies=[],this.cast=[],this.isLoading=!0,this.mobileQuery=X.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>K.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.route.params.subscribe(i=>{const t=i.url;this.getMovie(t),this.getMovieCredits(t),this.getMovieVideo(t),this.getRecomendedMovie(t)})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getMovie(i){this.isLoading=!0,this._moviesService.getMovie(i).pipe((0,s.q)(1)).subscribe(t=>{this.movie=t,this.generateSeo()},()=>{},()=>this.isLoading=!1)}getMovieCredits(i){this._moviesService.getMovieCredits(i).pipe((0,s.q)(1)).subscribe(t=>{t.cast=t.cast.filter(r=>r.profile_path),this.cast=t.cast.slice(0,5)},()=>{})}getMovieVideo(i){this._moviesService.getMovieVideos(i).pipe((0,s.q)(1)).subscribe(t=>{var r;(null===(r=null==t?void 0:t.results)||void 0===r?void 0:r.length)>0?(this.video=t.results[0],this.video.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.video.key)):this.video=null},()=>{})}getRecomendedMovie(i){this._moviesService.getRecomendMovies(i).pipe((0,s.q)(1)).subscribe(t=>{this.similarMovies=t.results.slice(0,10)},()=>{})}upOnRouting(){console.log(1)}generateSeo(){this.seo.generateTags({title:`${this.movie.title}`,description:`${this.movie.overview}`,image:`https://image.tmdb.org/t/p/w780/${this.movie.backdrop_path}`,slug:"movie"})}openDialog(){this.trailerDialog.open(this.matTrailerDialog,{}).disableClose=!0}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(h.I),e.Y36(g.gz),e.Y36(A.H7),e.Y36(c.uw),e.Y36(q.v),e.Y36(c.uw),e.Y36(e.sBO),e.Y36(f.vx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-detail"]],viewQuery:function(i,t){if(1&i&&(e.Gf(S,5),e.Gf(U,5),e.Gf(L,5)),2&i){let r;e.iGM(r=e.CRH())&&(t.closeModal=r.first),e.iGM(r=e.CRH())&&(t.openModal=r.first),e.iGM(r=e.CRH())&&(t.matTrailerDialog=r.first)}},decls:32,vars:20,consts:[["mode","indeterminate",4,"ngIf"],[1,"movie-main-container",3,"ngClass"],[1,"movie-main-data-container"],["fxLayout","row",1,"movie-top-section"],[1,"movie-main-img"],["data-loaded","true","appImgMissingDirective","",3,"src","srcset","alt"],[1,"movie-main-info"],["fxFlex","100",1,"title-subtitle-container"],[1,"movie-main-title"],["fxHide.xs","true"],["fxShow","","fxHide.sm","true","fxHide.xs","true"],[2,"padding-right","8px"],["mat-raised-button","","color","primary","aria-label","Trailer","class","play-trailer",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","","style","margin-right: 5px",4,"ngFor","ngForOf"],["fxLayout","column","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"top-billed-cast"],[1,"title-billed"],[2,"display","flex","text-align","center"],["style","width: 20%;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"container"],["class","similar-movies default-margin-bottom",4,"ngIf"],["matTrailerDialog",""],["mode","indeterminate"],["mat-raised-button","","color","primary","aria-label","Trailer",1,"play-trailer",3,"click"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","",2,"margin-right","5px"],[2,"width","20%",3,"ngStyle"],[3,"routerLink"],[2,"display","inline-flex","align-items","center","padding","0 5px"],["mat-card-image","",3,"src","alt"],[2,"color","#F44336","font-weight","500"],[2,"margin","0","font-size","14px"],[1,"similar-movies","default-margin-bottom"],["fxLayout","row wrap"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie","click"],["cdkDragBoundary",".cdk-overlay-container","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",2,"background","black"],["cdkDragHandle","",1,"dialog-title-container"],["href","javascript:void(0);",3,"click"],["aria-label","cerrar dialogo cambiar imagen Cabecera"],["matDialogTitle",""],[1,"header-content-dialog"],["class","video-movie-main",4,"ngIf"],[1,"video-movie-main"],["allowfullscreen","",2,"background-color","#000","border","0",3,"src"]],template:function(i,t){1&i&&(e.YNc(0,Y,1,0,"mat-progress-bar",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"section",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"h2",8),e._uU(9),e.qZA(),e.TgZ(10,"h3",9),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"section"),e.TgZ(13,"div",10),e.TgZ(14,"h3"),e._uU(15,"Overview"),e.qZA(),e.TgZ(16,"p",11),e._uU(17),e.qZA(),e.qZA(),e.YNc(18,J,4,0,"button",12),e.TgZ(19,"div",10),e.TgZ(20,"h3"),e._uU(21,"Categories"),e.qZA(),e.YNc(22,H,2,1,"button",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"section",14),e.TgZ(24,"h3",15),e._uU(25,"Top Billed Cast"),e.qZA(),e.TgZ(26,"div",16),e.YNc(27,R,9,8,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,I,5,1,"div",19),e.qZA(),e.YNc(30,k,9,1,"ng-template",null,20,e.W1O)),2&i&&(e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Udp("background-image","linear-gradient(rgba(52,41,49,0.80), rgba(0,0,0,0.85)), url(https://image.tmdb.org/t/p/w1280"+t.movie.backdrop_path+")"),e.Q6J("ngClass",e.VKq(18,B,!t.mobileQuery.matches)),e.xp6(4),e.MGl("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==t.movie?null:t.movie.poster_path,"",e.LSH),e.MGl("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==t.movie?null:t.movie.poster_path,"",e.LSH),e.hYB("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==t.movie?null:t.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==t.movie?null:t.movie.poster_path," 2x",e.LSH),e.hYB("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==t.movie?null:t.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==t.movie?null:t.movie.poster_path," 2x",e.LSH),e.Q6J("alt",null==t.movie?null:t.movie.title),e.xp6(4),e.Oqu(null==t.movie?null:t.movie.title),e.xp6(2),e.Oqu(t.movie.tagline),e.xp6(6),e.Oqu(t.movie.overview),e.xp6(1),e.Q6J("ngIf",t.video),e.xp6(4),e.Q6J("ngForOf",t.movie.genres),e.xp6(5),e.Q6J("ngForOf",t.cast),e.xp6(2),e.Q6J("ngIf",t.similarMovies))},directives:[l.O5,l.mk,m.oO,d.xw,F._,d.yH,m.b8,l.sg,D.pW,M.lW,Q.Hw,l.PC,m.Zl,g.yS,x.G2,_.h,Z.Zt,Z.Bh,c.uh,c.xY],styles:[".movie-main-container[_ngcontent-%COMP%]{background-size:cover;background-position:center top}.movie-main-data-container[_ngcontent-%COMP%]{padding:30px 40px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 4px #0003;border-radius:4px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-wrap:wrap;align-content:center}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .title-subtitle-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;color:#fff;font-size:1.1em;font-style:italic;opacity:.8;margin:0}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;align-items:center}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]     .mat-button-wrapper mat-icon{padding-right:2px}.video-movie-main[_ngcontent-%COMP%]{margin:auto}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:55vw;height:64vh}.top-billed-cast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin:0 8px 0 0;-o-object-fit:cover;object-fit:cover}@media screen and (max-width: 599px){.movie-main-container[_ngcontent-%COMP%]{height:240px}.movie-main-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc((50vw - 40px) / 1.5);min-width:calc((45.4545454545vw - 40px) / 1.5);height:calc(50vw - 40px);min-height:calc(50vw - 40px)}.movie-main-data-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;padding:0}.movie-main-data-container[_ngcontent-%COMP%]   .movie-top-section[_ngcontent-%COMP%]{padding:10px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:20px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]{margin-top:4px}.movie-main-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}.similar-movies[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:45vh}}@media screen and (min-width: 600px) and (max-width: 959px){.movie-main-info[_ngcontent-%COMP%]   .play-trailer[_ngcontent-%COMP%]{margin-top:4px}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:40vh}}@media screen and (min-width: 960px) and (max-width: 1279px){.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:80vw;height:40vh}}@media screen and (min-width: 1280px) and (max-width: 1919px){.movie-main-title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin:0 0 20px}}"]}),n})()}]}];let j=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild($)],g.Bz]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[b.m,j]]}),n})()}}]);