"use strict";(self.webpackChunkangular_movies=self.webpackChunkangular_movies||[]).push([[643],{6643:(E,u,a)=>{a.r(u),a.d(u,{MoviesModule:()=>B});var b=a(4049),g=a(8555),h=a(789),r=a(2986),e=a(5e3),x=a(5113),l=a(9808),m=a(3322),c=a(7093),f=a(9224),Z=a(7423),p=a(1125),T=a(3892),_=a(9601);function y(t,n){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"button",12),e._uU(2),e.qZA(),e.qZA()),2&t){const i=n.$implicit;e.xp6(2),e.hij(" ",i.name," ")}}function C(t,n){if(1&t&&(e.TgZ(0,"span",13),e._UZ(1,"app-poster-card",14),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.Q6J("model",i)("isMovie",!0)}}const A=function(t){return{"padding-top-60":t}};let O=(()=>{class t{constructor(i,o,s){this.moviesService=i,this.nowPlaying=[],this.mobileQuery=s.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>o.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.getNowPlayinMovies(1),this.moviesService.getGenres().subscribe(i=>{this.genres=i.genres})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getNowPlayinMovies(i){this.moviesService.getNowPlaying(i).pipe((0,r.q)(1)).subscribe(o=>{this.totalResults=o.total_results,this.nowPlaying=o.results},()=>{})}changePage(i){this.getNowPlayinMovies(i.pageIndex+1)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(h.I),e.Y36(e.sBO),e.Y36(x.vx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-movies"]],decls:22,vars:7,consts:[[1,"container",3,"ngClass"],["fxLayout","row"],["fxFlex","25%","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"filter-movies-card"],[2,"margin-bottom","24px"],["mat-raised-button","","color","primary","aria-label","Set Now Playing filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Upcoming filter","disabled",""],["mat-raised-button","","color","primary","aria-label","Set Popular filter","disabled",""],[4,"ngFor","ngForOf"],["fxFlex","75%","fxFlex.sm","100","fxFlex.xs","100"],["fxLayout","row wrap"],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["mat-raised-button","","color","primary","aria-label","Set Genres filter","disabled",""],["fxFlex","25%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h2"),e._uU(2,"All Movies #NowPlaying"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"mat-card",2),e.TgZ(5,"div",3),e._uU(6,"Filter by"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Now Playing"),e.qZA(),e.TgZ(9,"button",5),e._uU(10,"Upcoming"),e.qZA(),e.TgZ(11,"button",6),e._uU(12,"Popular"),e.qZA(),e.TgZ(13,"mat-expansion-panel"),e.TgZ(14,"mat-expansion-panel-header"),e.TgZ(15,"mat-panel-title"),e._uU(16," Genres "),e.qZA(),e.qZA(),e.YNc(17,y,3,1,"div",7),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"div",9),e.YNc(20,C,2,2,"span",10),e.qZA(),e.TgZ(21,"mat-paginator",11),e.NdJ("page",function(v){return o.changePage(v)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(5,A,!o.mobileQuery.matches)),e.xp6(17),e.Q6J("ngForOf",o.genres),e.xp6(3),e.Q6J("ngForOf",o.nowPlaying),e.xp6(1),e.Q6J("length",o.totalResults)("pageSize",20))},directives:[l.mk,m.oO,c.xw,f.a8,c.yH,m.b8,Z.lW,p.ib,p.yz,p.yK,l.sg,T.NW,_.h],styles:[".filter-movies-card[_ngcontent-%COMP%]{height:100%;margin-right:8px}.filter-movies-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}"]}),t})();var w=a(2313),d=a(8966),q=a(3794),P=a(5245),M=a(5812);const F=["closeModal"],Q=["openModal"],D=["matTrailerDialog"];function S(t,n){if(1&t&&(e.TgZ(0,"button",23),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.Oqu(i.name)}}const U=function(t){return{"border-right":t}};function L(t,n){if(1&t&&(e.TgZ(0,"div",24),e.TgZ(1,"a",25),e.TgZ(2,"div",26),e._UZ(3,"img",27),e.TgZ(4,"div"),e.TgZ(5,"small",28),e._uU(6),e.qZA(),e.TgZ(7,"p",29),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=n.$implicit;e.Q6J("ngStyle",e.VKq(6,U,!0!==n.last?"1px solid #ffffff75":"")),e.xp6(1),e.MGl("routerLink","/people/person/",null==i?null:i.id,""),e.xp6(2),e.MGl("src","https://image.tmdb.org/t/p/w240_and_h266_face/",i.profile_path,"",e.LSH),e.Q6J("alt",i.name),e.xp6(3),e.Oqu(i.character),e.xp6(2),e.Oqu(i.name)}}const J=function(t){return{"padding-top-60":t}};function Y(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"section",7),e.TgZ(3,"div",8),e._UZ(4,"img",9),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"div",11),e.TgZ(7,"h2",12),e._uU(8),e.qZA(),e.TgZ(9,"h3",13),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",14),e.TgZ(12,"h3"),e._uU(13,"Overview"),e.qZA(),e.TgZ(14,"p",15),e._uU(15),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"button",16),e.NdJ("click",function(){return e.CHM(i),e.oxw().openDialog()}),e.TgZ(18,"mat-icon",17),e._uU(19,"play_arrow"),e.qZA(),e._uU(20," Watch Trailer"),e.qZA(),e.qZA(),e.TgZ(21,"h3"),e._uU(22,"Categories"),e.qZA(),e.TgZ(23,"div"),e.YNc(24,S,2,1,"button",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"section",19),e.TgZ(26,"h3",20),e._uU(27,"Top Billed Cast"),e.qZA(),e.TgZ(28,"div",21),e.YNc(29,L,9,8,"div",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=e.oxw();e.Udp("background-image","linear-gradient(rgba(52,41,49,0.80), rgba(0,0,0,0.85)), url(https://image.tmdb.org/t/p/w1280"+i.movie.backdrop_path+")"),e.Q6J("ngClass",e.VKq(15,J,!i.mobileQuery.matches)),e.xp6(4),e.MGl("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path,"",e.LSH),e.MGl("src","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path,"",e.LSH),e.hYB("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==i.movie?null:i.movie.poster_path," 2x",e.LSH),e.hYB("srcset","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",null==i.movie?null:i.movie.poster_path," 1x, https://image.tmdb.org/t/p/w600_and_h900_bestv2/",null==i.movie?null:i.movie.poster_path," 2x",e.LSH),e.Q6J("alt",null==i.movie?null:i.movie.title),e.xp6(4),e.Oqu(null==i.movie?null:i.movie.title),e.xp6(2),e.Oqu(i.movie.tagline),e.xp6(5),e.Oqu(i.movie.overview),e.xp6(9),e.Q6J("ngForOf",i.movie.genres),e.xp6(5),e.Q6J("ngForOf",i.cast)}}function H(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"app-poster-card",34),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).upOnRouting()}),e.qZA(),e.qZA()}if(2&t){const i=n.$implicit;e.xp6(1),e.Q6J("model",i)("isMovie",!0)}}function N(t,n){if(1&t&&(e.TgZ(0,"div",30),e.TgZ(1,"h2"),e._uU(2,"Recommended Movies"),e.qZA(),e.TgZ(3,"div",31),e.YNc(4,H,2,2,"div",32),e.qZA(),e.qZA()),2&t){const i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.similarMovies)}}function R(t,n){1&t&&(e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"h4"),e._uU(3,"Loading"),e.qZA(),e.qZA(),e.qZA())}function G(t,n){if(1&t&&(e.TgZ(0,"div",44),e._UZ(1,"iframe",45),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.video.url,e.uOi)}}function k(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"div",38),e.TgZ(2,"a",39),e.NdJ("click",function(){return e.CHM(i),e.oxw().trailerDialog.closeAll()}),e.TgZ(3,"mat-icon",40),e._uU(4,"close"),e.qZA(),e.qZA(),e.TgZ(5,"h2",41),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content",42),e.YNc(8,G,2,1,"div",43),e.qZA(),e.qZA()}if(2&t){const i=e.oxw();e.xp6(6),e.Oqu(null==i.video?null:i.video.name),e.xp6(2),e.Q6J("ngIf",i.video)}}const z=[{path:"",children:[{path:"",component:O},{path:"detail/:url",component:(()=>{class t{constructor(i,o,s,v,$,j,V,W){this._moviesService=i,this.route=o,this.sanitizer=s,this.dialog=v,this.seo=$,this.trailerDialog=j,this.similarMovies=[],this.cast=[],this.isLoading=!0,this.mobileQuery=W.matchMedia("(max-width: 599px)"),this._mobileQueryListener=()=>V.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.route.params.subscribe(i=>{const o=i.url;this.getMovie(o),this.getMovieCredits(o),this.getMovieVideo(o),this.getRecomendedMovie(o)})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}getMovie(i){this.isLoading=!0,this._moviesService.getMovie(i).pipe((0,r.q)(1)).subscribe(o=>{this.movie=o,this.generateSeo(),this.isLoading=!1},()=>{})}getMovieCredits(i){this._moviesService.getMovieCredits(i).pipe((0,r.q)(1)).subscribe(o=>{o.cast=o.cast.filter(s=>s.profile_path),this.cast=o.cast.slice(0,5)},()=>{})}getMovieVideo(i){this._moviesService.getMovieVideos(i).pipe((0,r.q)(1)).subscribe(o=>{o.results&&o.results.length&&(this.video=o.results[0],this.video.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.video.key),console.log(this.video))},()=>{})}getRecomendedMovie(i){this._moviesService.getRecomendMovies(i).pipe((0,r.q)(1)).subscribe(o=>{this.similarMovies=o.results.slice(0,10)},()=>{})}upOnRouting(){console.log(1)}generateSeo(){this.seo.generateTags({title:`${this.movie.title}`,description:`${this.movie.overview}`,image:`https://image.tmdb.org/t/p/w780/${this.movie.backdrop_path}`,slug:"movie"})}openDialog(){this.trailerDialog.open(this.matTrailerDialog,{}).disableClose=!0}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(h.I),e.Y36(g.gz),e.Y36(w.H7),e.Y36(d.uw),e.Y36(q.v),e.Y36(d.uw),e.Y36(e.sBO),e.Y36(x.vx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-movie-detail"]],viewQuery:function(i,o){if(1&i&&(e.Gf(F,5),e.Gf(Q,5),e.Gf(D,5)),2&i){let s;e.iGM(s=e.CRH())&&(o.closeModal=s.first),e.iGM(s=e.CRH())&&(o.openModal=s.first),e.iGM(s=e.CRH())&&(o.matTrailerDialog=s.first)}},decls:6,vars:3,consts:[["class","movie-main-container",3,"ngClass","background-image",4,"ngIf"],[1,"container"],["class","similar-movies default-margin-bottom",4,"ngIf"],["style","margin-top: 30%",4,"ngIf"],["matTrailerDialog",""],[1,"movie-main-container",3,"ngClass"],[1,"movie-main-data-container"],["fxLayout","row",1,"movie-top-section"],[1,"movie-main-img"],["data-loaded","true",3,"src","srcset","alt"],[1,"movie-main-info"],[1,"title-subtitle-container"],[1,"movie-main-title"],["fxHide.xs","true"],["fxShow","","fxHide.sm","true","fxHide.xs","true"],[2,"padding-right","8px"],["mat-raised-button","","color","primary","aria-label","Trailer",3,"click"],[1,"icon-colored",2,"background","white","border-radius","50%"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","","style","margin-right: 5px",4,"ngFor","ngForOf"],["fxLayout","column","fxShow","","fxHide.sm","true","fxHide.xs","true",1,"top-billed-cast"],[1,"title-billed"],[2,"display","flex","text-align","center"],["style","width: 20%;",3,"ngStyle",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","aria-label","Genres","disabled","",2,"margin-right","5px"],[2,"width","20%",3,"ngStyle"],[3,"routerLink"],[2,"display","inline-flex","align-items","center","padding","0 5px"],["mat-card-image","",3,"src","alt"],[2,"color","#F44336","font-weight","500"],[2,"margin","0","font-size","14px"],[1,"similar-movies","default-margin-bottom"],["fxLayout","row wrap"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%","style","padding: 5px 5px;",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.md","25%","fxFlex.xs","50%",2,"padding","5px 5px"],[3,"model","isMovie","click"],[2,"margin-top","30%"],[1,"loading"],["cdkDragBoundary",".cdk-overlay-container","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",2,"background","black"],["cdkDragHandle","",1,"dialog-title-container"],["href","javascript:void(0);",3,"click"],["aria-label","cerrar dialogo cambiar imagen Cabecera"],["matDialogTitle",""],[1,"header-content-dialog"],["class","video-movie-main",4,"ngIf"],[1,"video-movie-main"],["allowfullscreen","",2,"background-color","#000","border","0",3,"src"]],template:function(i,o){1&i&&(e.YNc(0,Y,30,17,"div",0),e.TgZ(1,"div",1),e.YNc(2,N,5,1,"div",2),e.qZA(),e.YNc(3,R,4,0,"div",3),e.YNc(4,k,9,2,"ng-template",null,4,e.W1O)),2&i&&(e.Q6J("ngIf",!o.isLoading),e.xp6(2),e.Q6J("ngIf",o.similarMovies),e.xp6(1),e.Q6J("ngIf",o.isLoading))},directives:[l.O5,l.mk,m.oO,c.xw,m.b8,Z.lW,P.Hw,l.sg,l.PC,m.Zl,g.yS,f.G2,c.yH,_.h,M.Zt,M.Bh,d.uh,d.xY],styles:[".movie-main-container[_ngcontent-%COMP%]{background-size:cover;background-position:center top}.movie-main-data-container[_ngcontent-%COMP%]{padding:30px 40px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 4px #0003;border-radius:4px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-wrap:wrap;align-content:center}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]   .title-subtitle-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;color:#fff;font-size:1.1em;font-style:italic;opacity:.8;margin:0}.video-movie-main[_ngcontent-%COMP%]{margin:auto}.video-movie-main[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:55vw;height:64vh}.top-billed-cast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin:0 8px 0 0;-o-object-fit:cover;object-fit:cover}@media screen and (max-width: 599px){.movie-main-container[_ngcontent-%COMP%]{height:240px}.movie-main-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.movie-main-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc((50vw - 40px) / 1.5);min-width:calc((45.4545454545vw - 40px) / 1.5);height:calc(50vw - 40px);min-height:calc(50vw - 40px)}.movie-main-data-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;padding:0}.movie-main-data-container[_ngcontent-%COMP%]   .movie-top-section[_ngcontent-%COMP%]{padding:10px}.movie-main-data-container[_ngcontent-%COMP%]   .movie-main-info[_ngcontent-%COMP%]{padding-left:20px}.movie-main-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0}.similar-movies[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}@media screen and (min-width: 1280px) and (max-width: 1919px){.movie-main-title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin:0 0 20px}}"]}),t})()}]}];let I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(z)],g.Bz]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[b.m,I]]}),t})()}}]);